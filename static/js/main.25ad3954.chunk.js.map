{"version":3,"sources":["components/results-sort/results-sort.module.css","components/filter-item/filter-item.module.css","components/alert/alert.module.css","components/results-list/results-list.module.css","components/filter/filter.module.css","components/app/app.module.css","components/results-item/results-item.module.css","reducer.js","services/api-service/index.js","services/api-service/api-service.js","actions.js","components/filter-item/filter-item.js","components/filter-item/index.js","components/filter/index.js","components/filter/filter.js","components/alert/ok.png","components/alert/alert.js","components/alert/index.js","components/results-sort/results-sort.js","components/results-sort/index.js","components/item-body/index.js","components/item-body/item-body.js","components/results-item/index.js","components/results-item/results-item.js","components/results-list/results-list.js","components/results-list/index.js","img/Logo.svg","components/app/app.js","components/app/index.js","index.js"],"names":["module","exports","reducer","combineReducers","filter","checkAllFilters","state","ALL","action","newFilter","type","change","Object","values","slice","includes","key","sort","tickets","isLoading","loadComplete","items","data","stop","searchID","id","ApiService","getSearchId","a","fetch","response","json","searchId","getTicketsPack","forEach","el","uuidv4","apiService","changeFilter","changeFilterAll","changeSort","receiveTickets","getSearchID","dispatch","then","setSearchID","getTickets","catch","FilterItem","connect","bindActionCreators","name","className","classes","container","filterItem","contentContainer","onChange","checkInput","checked","checkBox","Filter","filterContainer","filterTitle","filterList","store","useState","hidden","setHidden","useEffect","setTimeout","document","getElementById","style","height","icon","src","alt","text","color","size","Alert","ResultsSort","item","active","onClick","ItemBody","origin","destination","date","stops","duration","timeFlight","Math","floor","formatDate","Date","timeTakeoff","lightFormat","timeLanding","setMinutes","getMinutes","stopsAmount","length","descriptionRow","descriptionColumn","titleInfo","info","join","ResultsItem","price","carrier","segments","carrierLogoURL","tabIndex","header","displayTickets","setDisplayTickets","filteredList","ticket","stopsThere","stopsBack","prev","next","timePrev","timeNext","stopsPrev","stopsNext","ticketsList","map","spinnerContainer","alertContainer","message","showIcon","buttonMore","showButtonMore","list","ResultsList","logoContainer","LogoImage","logo","gutter","xs","md","span","App","createStore","composeWithDevTools","applyMiddleware","reduxThunk","ReactDOM","render"],"mappings":"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","file":"static/js/main.25ad3954.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"results-sort_container__2c3ja\",\"item\":\"results-sort_item__1oJUM\",\"active\":\"results-sort_active__2qUpf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"filter-item_container__2FQyE\",\"filterItem\":\"filter-item_filterItem__2dHbE\",\"contentContainer\":\"filter-item_contentContainer__3TAHc\",\"checkInput\":\"filter-item_checkInput__2IDI1\",\"checkBox\":\"filter-item_checkBox__1-iE1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"alert_container__3hzHu\",\"text\":\"alert_text__oosjX\",\"icon\":\"alert_icon__onmLE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"results-list_list__3_SbO\",\"alertContainer\":\"results-list_alertContainer__1WhGg\",\"spinnerContainer\":\"results-list_spinnerContainer__3IHJ6\",\"buttonMore\":\"results-list_buttonMore__2P63V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filterContainer\":\"filter_filterContainer__1hksp\",\"filterTitle\":\"filter_filterTitle__2qJ0w\",\"filterList\":\"filter_filterList__9tqaK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"app_container__190db\",\"logoContainer\":\"app_logoContainer__215p8\",\"logo\":\"app_logo__1sv3J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"results-item_container__EVNe5\",\"header\":\"results-item_header__1S4wN\",\"price\":\"results-item_price__Tq8-j\",\"descriptionRow\":\"results-item_descriptionRow__TYKje\",\"descriptionColumn\":\"results-item_descriptionColumn__3fa8d\",\"titleInfo\":\"results-item_titleInfo__346SW\",\"info\":\"results-item_info__hPqaM\"};","import { combineReducers } from 'redux';\n\n// eslint-disable-next-line default-param-last\nfunction filter(\n  state = {\n    ALL: true,\n    '0_TRANS': true,\n    '1_TRANS': true,\n    '2_TRANS': true,\n    '3_TRANS': true,\n  },\n  action\n) {\n  let newFilter = { ...state };\n  let checkAllFilters;\n\n  switch (action.type) {\n    case 'CHANGE_FILTER':\n      newFilter = { ...state, [action.change]: !state[action.change] };\n      checkAllFilters = Object.values(newFilter).slice(1).includes(false);\n      return { ...newFilter, ALL: !checkAllFilters };\n\n    case 'CHANGE_FILTER_ALL':\n      // eslint-disable-next-line guard-for-in\n      for (const key in newFilter) {\n        newFilter[key] = !state.ALL;\n      }\n      return newFilter;\n\n    default:\n      return state;\n  }\n}\n\nfunction sort(state = 'CHEAP', action) {\n  switch (action.type) {\n    case 'CHANGE_SORT':\n      return action.change;\n\n    default:\n      return state;\n  }\n}\n\nfunction tickets(\n  state = {\n    isLoading: false,\n    loadComplete: false,\n    items: [],\n  },\n  action\n) {\n  switch (action.type) {\n    case 'RECEIVE_TICKETS':\n      return {\n        ...state,\n        items: [...state.items, ...action.data.tickets],\n        loadComplete: action.data.stop,\n        isLoading: false,\n      };\n\n    case 'REQUEST_TICKETS':\n      return { ...state, isLoading: true };\n\n    default:\n      return state;\n  }\n}\n\nfunction searchID(state = '', action) {\n  switch (action.type) {\n    case 'SET_SEARCH_ID':\n      return action.id;\n\n    default:\n      return state;\n  }\n}\n\nconst reducer = combineReducers({\n  filter,\n  sort,\n  tickets,\n  searchID,\n});\n\nexport default reducer;\n","import ApiService from './api-service';\n\nexport default ApiService;\n","import { v4 as uuidv4 } from 'uuid';\n\nexport default class ApiService {\n  getSearchId = async () => {\n    const response = await fetch('https://front-test.beta.aviasales.ru/search');\n    const data = await response.json();\n    return data.searchId;\n  };\n\n  getTicketsPack = async (searchId) => {\n    const response = await fetch(`https://front-test.beta.aviasales.ru/tickets?searchId=${searchId}`);\n    const data = await response.json();\n    // eslint-disable-next-line no-return-assign,no-param-reassign\n    data.tickets.forEach((el) => (el.id = uuidv4()));\n    return data;\n  };\n}\n","import ApiService from './services/api-service';\n\nconst apiService = new ApiService();\n\nexport const changeFilter = (change) => ({ type: 'CHANGE_FILTER', change });\nexport const changeFilterAll = () => ({ type: 'CHANGE_FILTER_ALL' });\nexport const changeSort = (change) => ({ type: 'CHANGE_SORT', change });\nconst setSearchID = (id) => ({ type: 'SET_SEARCH_ID', id });\nconst requestTickets = () => ({ type: 'REQUEST_TICKETS' });\nconst receiveTickets = (data) => ({ type: 'RECEIVE_TICKETS', data });\nexport const getSearchID = () => (dispatch) => apiService.getSearchId().then((id) => dispatch(setSearchID(id)));\nexport const getTickets = (id) => (dispatch) => {\n  dispatch(requestTickets());\n  return apiService\n    .getTicketsPack(id)\n    .then((data) => dispatch(receiveTickets(data)))\n    .catch(() => dispatch(receiveTickets({ tickets: [], stop: false })));\n};\n","import React from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport PropTypes, { bool } from 'prop-types';\nimport classes from './filter-item.module.css';\nimport { changeFilter, changeFilterAll } from '../../actions';\n\nfunction FilterItem({ name, filter, changeFilter, changeFilterAll }) {\n  const titleCheckbox = {\n    ALL: 'Все',\n    '0_TRANS': 'Без пересадок',\n    '1_TRANS': '1 пересадка',\n    '2_TRANS': '2 пересадки',\n    '3_TRANS': '3 пересадки',\n  };\n  const toggleCheck = () => {\n    // eslint-disable-next-line no-unused-expressions\n    name === 'ALL' ? changeFilterAll() : changeFilter(name);\n  };\n\n  return (\n    <li className={classes.container}>\n      <label className={classes.filterItem}>\n        <div className={classes.contentContainer}>\n          <input\n            name={name}\n            onChange={toggleCheck}\n            className={classes.checkInput}\n            type=\"checkbox\"\n            checked={filter[name]}\n          />\n          <span className={classes.checkBox} />\n          {titleCheckbox[name]}\n        </div>\n      </label>\n    </li>\n  );\n}\n\nFilterItem.propTypes = {\n  name: PropTypes.string.isRequired,\n  changeFilter: PropTypes.func.isRequired,\n  changeFilterAll: PropTypes.func.isRequired,\n  filter: PropTypes.objectOf(bool).isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  filter: state.filter,\n});\n\nconst mapDispatchToProps = (dispatch) => bindActionCreators({ changeFilterAll, changeFilter }, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FilterItem);\n","import FilterItem from './filter-item';\n\nexport default FilterItem;\n","import Filter from './filter';\n\nexport default Filter;\n","import React from 'react';\nimport FilterItem from '../filter-item';\nimport classes from './filter.module.css';\n\nexport default function Filter() {\n  return (\n    <div className={classes.filterContainer}>\n      <span className={classes.filterTitle}>Количество пересадок</span>\n      <ul className={classes.filterList}>\n        <FilterItem name=\"ALL\" />\n        <FilterItem name=\"0_TRANS\" />\n        <FilterItem name=\"1_TRANS\" />\n        <FilterItem name=\"2_TRANS\" />\n        <FilterItem name=\"3_TRANS\" />\n      </ul>\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/ok.801c8264.png\";","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport DotLoader from 'react-spinners/DotLoader';\nimport classes from './alert.module.css';\nimport icon from './ok.png';\n\nfunction Alert({ loadComplete }) {\n  const [hidden, setHidden] = useState(false);\n  useEffect(() => {\n    if (loadComplete) {\n      setTimeout(() => {\n        const alertWindow = document.getElementById('alert');\n        alertWindow.style.height = 0;\n      }, 3500);\n      setTimeout(() => setHidden(true), 4000);\n    }\n  }, [loadComplete, setHidden]);\n\n  if (hidden) return null;\n\n  if (loadComplete) {\n    return (\n      <div className={classes.container} id=\"alert\">\n        <img className={classes.icon} src={icon} alt=\"icon\" />\n        <div className={classes.text}>Все билеты получены!</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={classes.container}>\n      <DotLoader color=\"#2196f3\" size={36} />\n      <div className={classes.text}>Получаем данные по билетам</div>\n    </div>\n  );\n}\n\nAlert.propTypes = {\n  loadComplete: PropTypes.bool.isRequired,\n};\n\nconst mapStateToProps = (store) => ({\n  loadComplete: store.tickets.loadComplete,\n});\n\nexport default connect(mapStateToProps)(Alert);\n","import Alert from './alert';\n\nexport default Alert;\n","import React from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport classes from './results-sort.module.css';\nimport { changeSort } from '../../actions';\n\nfunction ResultsSort({ sort, changeSort }) {\n  return (\n    <div className={classes.container}>\n      <button\n        className={`${classes.item} ${sort === 'CHEAP' ? classes.active : null}`}\n        onClick={() => changeSort('CHEAP')}\n        type=\"button\"\n      >\n        Самый дешёвый\n      </button>\n      <button\n        className={`${classes.item} ${sort === 'FAST' ? classes.active : null}`}\n        onClick={() => changeSort('FAST')}\n        type=\"button\"\n      >\n        Самый быстрый\n      </button>\n      <button\n        className={`${classes.item} ${sort === 'OPTIMAL' ? classes.active : null}`}\n        onClick={() => changeSort('OPTIMAL')}\n        type=\"button\"\n      >\n        Оптимальный\n      </button>\n    </div>\n  );\n}\n\nResultsSort.propTypes = {\n  sort: PropTypes.string.isRequired,\n  changeSort: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  sort: state.sort,\n});\n\nconst mapDispatchToProps = (dispatch) => bindActionCreators({ changeSort }, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ResultsSort);\n","import ResultsSort from './results-sort';\n\nexport default ResultsSort;\n","import ItemBody from './item-body';\n\nexport default ItemBody;\n","import React from 'react';\nimport PropTypes, { string } from 'prop-types';\nimport lightFormat from 'date-fns/lightFormat';\nimport classes from '../results-item/results-item.module.css';\n\n// eslint-disable-next-line no-unused-vars\nexport default function ItemBody({ origin, destination, date, stops, duration }) {\n  const timeFlight =\n    duration / 60 >= 24\n      ? `${Math.floor(duration / 1440)}д ${Math.floor(duration / 60) % 24}ч ${duration % 60}м`\n      : `${Math.floor(duration / 60)}ч ${duration % 60}м`;\n\n  const formatDate = new Date(date);\n  const timeTakeoff = lightFormat(formatDate, 'HH:mm');\n  const timeLanding = lightFormat(formatDate.setMinutes(formatDate.getMinutes() + duration), 'HH:mm');\n\n  let stopsAmount = `${stops.length} пересадок`;\n  if (stops.length === 1) {\n    stopsAmount = `${stops.length} пересадка`;\n  }\n  if (stops.length === 2 || stops.length === 3) {\n    stopsAmount = `${stops.length} пересадки`;\n  }\n\n  return (\n    <div className={classes.descriptionRow}>\n      <div className={classes.descriptionColumn}>\n        <span className={classes.titleInfo}>\n          {origin} – {destination}\n        </span>\n        <span className={classes.info}>\n          {timeTakeoff} – {timeLanding}\n        </span>\n      </div>\n      <div className={classes.descriptionColumn}>\n        <span className={classes.titleInfo}>В пути</span>\n        <span className={classes.info}>{timeFlight}</span>\n      </div>\n      <div className={classes.descriptionColumn}>\n        <span className={classes.titleInfo}>{stopsAmount}</span>\n        <span className={classes.info}>{stops.join(', ')}</span>\n      </div>\n    </div>\n  );\n}\n\nItemBody.propTypes = {\n  origin: PropTypes.string.isRequired,\n  destination: PropTypes.string.isRequired,\n  date: PropTypes.string.isRequired,\n  stops: PropTypes.arrayOf(string).isRequired,\n  duration: PropTypes.number.isRequired,\n};\n","import ResultsItem from './results-item';\n\nexport default ResultsItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classes from './results-item.module.css';\nimport ItemBody from '../item-body';\n\nexport default function ResultsItem({ price, carrier, segments }) {\n  const carrierLogoURL = `https://pics.avs.io/99/36/${carrier}.png`;\n\n  return (\n    // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n    <li className={classes.container} tabIndex=\"0\">\n      <header className={classes.header}>\n        <span className={classes.price}>{price} P</span>\n        <img src={carrierLogoURL} alt=\"aircraft logo\" />\n      </header>\n      <ItemBody {...segments[0]} />\n      <ItemBody {...segments[1]} />\n    </li>\n  );\n}\n\nResultsItem.propTypes = {\n  price: PropTypes.number.isRequired,\n  carrier: PropTypes.string.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  segments: PropTypes.array.isRequired,\n};\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes, { bool } from 'prop-types';\nimport { Alert } from 'antd';\nimport BeatLoader from 'react-spinners/BeatLoader';\nimport ResultsItem from '../results-item';\nimport classes from './results-list.module.css';\n\nfunction ResultsList({ tickets, filter, sort }) {\n  const [displayTickets, setDisplayTickets] = useState(5);\n\n  const filteredList = tickets.filter((ticket) => {\n    const stopsThere = ticket.segments[0].stops.length;\n    const stopsBack = ticket.segments[1].stops.length;\n    if (filter.ALL) return true;\n    if (filter['0_TRANS'] && (stopsThere === 0 || stopsBack === 0)) return true;\n    if (filter['1_TRANS'] && (stopsThere === 1 || stopsBack === 1)) return true;\n    if (filter['2_TRANS'] && (stopsThere === 2 || stopsBack === 2)) return true;\n    if (filter['3_TRANS'] && (stopsThere === 3 || stopsBack === 3)) return true;\n    return false;\n  });\n\n  filteredList.sort((prev, next) => {\n    const timePrev = prev.segments[0].duration + prev.segments[1].duration;\n    const timeNext = next.segments[0].duration + next.segments[1].duration;\n    const stopsPrev = prev.segments[0].stops.length + prev.segments[1].stops.length;\n    const stopsNext = next.segments[0].stops.length + next.segments[1].stops.length;\n    if (sort === 'FAST') return timePrev - timeNext;\n    if (sort === 'OPTIMAL') return stopsPrev - stopsNext;\n    return prev.price - next.price;\n  });\n\n  const ticketsList = filteredList\n    .slice(0, displayTickets)\n    .map((ticket) => <ResultsItem key={ticket.id} {...ticket} />);\n\n  if (!tickets.length) {\n    return (\n      <div className={classes.spinnerContainer}>\n        <BeatLoader color=\"#2196f3\" size={30} />\n      </div>\n    );\n  }\n\n  if (!ticketsList.length) {\n    return (\n      <div className={classes.alertContainer}>\n        <Alert message=\"Рейсов, подходящих под заданные фильтры, не найдено\" type=\"info\" showIcon />\n      </div>\n    );\n  }\n\n  const buttonMore = (\n    <button className={classes.buttonMore} onClick={() => setDisplayTickets((tickets) => tickets + 5)} type=\"button\">\n      Показать ещё 5 билетов!\n    </button>\n  );\n\n  const showButtonMore = ticketsList.length < filteredList.length && filteredList.length ? buttonMore : null;\n\n  return (\n    <>\n      <ul className={classes.list}>{ticketsList}</ul>\n      {showButtonMore}\n    </>\n  );\n}\n\nResultsList.propTypes = {\n  // eslint-disable-next-line react/forbid-prop-types\n  tickets: PropTypes.array.isRequired,\n  filter: PropTypes.objectOf(bool).isRequired,\n  sort: PropTypes.string.isRequired,\n};\n\nconst mapStateToProps = (store) => ({\n  tickets: store.tickets.items,\n  filter: store.filter,\n  sort: store.sort,\n});\n\nexport default connect(mapStateToProps)(ResultsList);\n","import ResultsList from './results-list';\n\nexport default ResultsList;\n","export default __webpack_public_path__ + \"static/media/Logo.ba7ff9c5.svg\";","import React, { useEffect } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { Row, Col } from 'antd';\nimport PropTypes from 'prop-types';\nimport { getSearchID, getTickets } from '../../actions';\nimport Filter from '../filter';\nimport Alert from '../alert';\nimport ResultsSort from '../results-sort';\nimport ResultsList from '../results-list';\nimport LogoImage from '../../img/Logo.svg';\nimport classes from './app.module.css';\n\nfunction App({ searchID, isLoading, loadComplete, getSearchID, getTickets }) {\n  useEffect(getSearchID, [getSearchID]);\n\n  if (searchID && !isLoading && !loadComplete) {\n    getTickets(searchID);\n  }\n\n  return (\n    <div className={classes.container}>\n      <Alert />\n      <div className={classes.logoContainer}>\n        <img src={LogoImage} alt=\"logo\" className={classes.logo} />\n      </div>\n      <Row gutter={{ xs: 0, md: 24 }}>\n        <Col xs={{ span: 24 }} md={{ span: 8 }}>\n          <Filter />\n        </Col>\n        <Col xs={{ span: 24 }} md={{ span: 16 }}>\n          <ResultsSort />\n          <ResultsList />\n        </Col>\n      </Row>\n    </div>\n  );\n}\n\nApp.propTypes = {\n  searchID: PropTypes.string.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  loadComplete: PropTypes.bool.isRequired,\n  getSearchID: PropTypes.func.isRequired,\n  getTickets: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (store) => ({\n  searchID: store.searchID,\n  isLoading: store.tickets.isLoading,\n  loadComplete: store.tickets.loadComplete,\n});\n\nconst mapDispatchToProps = (dispatch) => bindActionCreators({ getSearchID, getTickets }, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import App from './app';\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport reduxThunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport reducer from './reducer';\nimport App from './components/app';\nimport 'antd/dist/antd.css';\nimport './index.css';\n\nconst store = createStore(reducer, composeWithDevTools(applyMiddleware(reduxThunk)));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}